@model List<Holistica.Models.Product>

@{
    ViewData["Title"] = "Homeopathy";
}

@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

<script>
	const searchUrl = '@Url.Action("Search", "Shop")';
</script>
<script src="js/searchbar.js"></script>
	
<link rel="stylesheet" href="~/css/Shop.css" />

<div class="header">
	<div class="top-nav">
		<ul>
			<li><a asp-controller="Home" asp-action="Index">Начало</a></li>
			<li><a asp-controller="Navigation" asp-action="Homeopathy">За нас</a></li>
			<li><a asp-controller="Navigation" asp-action="Homeopathy">Контакти</a></li>
			<li><a asp-controller="Shop" asp-action="Index">Магазин</a></li>
			<li><a asp-controller="Cart" asp-action="ViewCart">Виж количка</a></li>
			
			@if (User.IsInRole("Admin"))
			{
				<li><a asp-controller="Shop" asp-action="AddProduct">Добави продукт</a></li>
				<li><a asp-controller="Shop" asp-action="AddQuantity">Добави количество</a></li>
			}

		</ul>
	</div>
	<div class="search-bar">
			@Html.AntiForgeryToken()
			<input type="text" name="searchInput" placeholder="Търсене..." />
	</div>
</div>

<div class="container">
	<div class="items">

		@foreach (var product in Model)
		{

			<div class="item">
				<div class="productImage">
					<a href="@Url.Action("Details", "Shop", new { id = product.ProductId })">
						<img src="@Url.Content($"~/images/shop images/{product.ImageUrl}")">
					</a>
				</div>
				<div class="productName"><h4>@product.Name</h4></div>
				<div class="productPrice"><h5>@product.Price</h5></div>
				<a class="buy-button" asp-controller="Cart" asp-action="AddToCart" asp-route-productId="@product.ProductId">Купи</a>
			</div>
		}

	</div>
</div>

